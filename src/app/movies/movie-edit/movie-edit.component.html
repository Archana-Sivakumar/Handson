<div class="container">
    <h2 class="mt-5">Edit Movie</h2>

    <div *ngIf="editMsg">
        <div class="container-fluid mt-3">
          
            <div class="jumbotron status-jumbotron">
                <h4>Movie details saved successfully.</h4>
            </div>  
  
        </div>
    </div>

    <form [formGroup]="movieListForm">

        <div class="form-group">
            <div class="row mt-3">

                <div class="col-sd-12 col-md-12">
                    <label for="title">Movie Name</label>

                    <input 
                        class="form-control" 
                        id="title" 
                        type="text" 
                        name="name" 
                        formControlName="title"
                    >

                    <div *ngIf="movieListForm.get('title').touched" >
                        <div *ngIf="movieListForm.get('title').invalid" class="text-danger">
                            <div *ngIf="movieListForm.get('title').errors.required">
                                Movie Name is required.
                            </div>
                      
                            <div *ngIf="movieListForm.get('title').errors.minlength">
                                Movie Name must at least have 2 characters.
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="row">
  
                <div class="col-sd-12 col-md-12 col-lg-3 mt-3">
                       <label for="boxOffice">BoxOffice</label>

                        <input 
                            type="number" 
                            class="form-control" 
                            id="boxOffice" 
                            name="boxOffice" 
                            formControlName="boxOffice"
                        >

                        <div *ngIf="movieListForm.get('boxOffice').touched">
                            <div  *ngIf="movieListForm.get('boxOffice').invalid">
                                <div *ngIf="movieListForm.get('boxOffice').errors.required">
                                   <div class="text-danger">BoxOffice is required<div class="text-break">BoxOffice can only contain numbers.</div></div>
                                </div>
                            </div>
                        </div>
                </div>
    
                <div class="col-sd-12 col-md-12 col-lg-3 mt-3">
                    <label for="dateOfLaunch">Date of Launch</label>

                    <input 
                        type="date" 
                        class="form-control" 
                        id="dateOfLaunch" 
                        name="dateOfLaunch" 
                        formControlName="dateOfLaunch" 
                        value="{{movieListForm.value.dateOfLaunch | date: 'yyyy-MM-dd'}}"
                    >

                    <div *ngIf="movieListForm.get('dateOfLaunch').touched">
                        <div  *ngIf="movieListForm.get('dateOfLaunch').invalid">
                            <div *ngIf="movieListForm.get('dateOfLaunch').errors.required">
                                <div class="text-danger">DateOfLaunch is required</div>
                            </div>
                        </div>
                    </div>
                </div> 
    
                <div class="col-sd-12 col-md-12 col-lg-3 mt-3">
                    <label for="genre">Genre</label>
                        <select class="form-control" id="genre" name="genre" formControlName="genre">
                            <option>Science Fiction</option>
                            <option>Superhero</option>
                            <option>Romance</option> 
                        </select>
                </div>
    
                <div class="col-sd-12 col-md-12 col-lg-3 mt-3">
       
                    <h6><label>Active</label></h6>
                    <div class="form-check form-check-inline">
                        <input 
                            type="radio" 
                            class="form-check-input" 
                            name="active" 
                            [value]="true" 
                            formControlName="active"
                        >
                          Yes
                    </div>
                    <div class="form-check form-check-inline">
                        <input 
                            type="radio" 
                            name="active" 
                            [value]="false" 
                            formControlName="active"
                        >
                          No
                    </div>
            
                </div>
            </div>	
        </div>
    
        <div class="form-group">
            <div class="row mt-3">
                <div class="col-md-12">
                    <div class="form-check">
                        <input 
                            class="form-check-input" 
                            type="checkbox" 
                            name="hasTeaser" 
                            formControlName="hasTeaser"
                        >
                        <label>Has Teaser</label>	
                    </div>	
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-sd-12 col-md-6">
                <button 
                    type="submit"
                    class="savebtn" 
                    (click)="updateMovieList(id,movieListForm.value)"  
                    [disabled]="!movieListForm.valid"
                >
                    Save
                </button>
            </div>
        </div>
  
    </form>
</div>


